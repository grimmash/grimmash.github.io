---
layout: post
title: A New Fort: Ancientbrass Continues (Part Two)
date: 2015-02-23 22:16
author: grimmash@gmail.com
comments: true
categories: [Dwarf Fortress]
---
<strong>A River Runs Through It</strong>

The centerpiece of this fortress is the double tower straddling the river.  So the big challenge is getting through the river to create the central stairwell.  There are many way to do this, but I’ll cover two, because I used both.

<strong>Dam It All </strong>

When I started the map, I had no idea if the water would freeze, because I am terrible at using biomes.   I initially used a strategy that works, but is very CPU intensive:  Damming the river.  There are a few ways to do this, mostly variations of pumping out the river or causing a cave-in to block the river.  I like the pumping method, as it makes your dwarves stronger.  Take a look at this picture below to get a basic idea of how this works.  The pump bridge is at the bottom.

[caption id="attachment_567" align="aligncenter" width="300"]<a href="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-23_21-51-40.png"><img class="size-medium wp-image-567" src="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-23_21-51-40-300x158.png" alt="Pump bridge at the bottom." width="300" height="158" /></a> Pump bridge at the bottom.[/caption]

You build a bridge across the river, followed by a bunch of screw pumps, set to pull water out of the downstream side of the river.  Then you build a receiveing channel, so to the water doesn’t just fall back in.  Finally, you tunnel out a chute to the edge of the map to drain water of into the nether of off-map tiles.  In my case the drains were a pair of channeled tunnels down to rock, which I then carved to the map edge, and carved fortifications to prevent random fun from crawling up the chutes.  Rock is important in map-edge drains, because it is the only way to carve your fortifications into the very edge and prevent ingress of whatever the RNG throws at you.  I finished off by surrounding the receiving channels with walls and boxing them in to prevent leakage.

Once the pump bridge ready, start the pumps, and let your drwaves pump away until the river squares on the downstream tile are at 1/7 water.  Then build a raising bridge.  Building this bridge may take a while.  If your dwarves keep suspending the job, just restart it.  You will eventually make progress, even if the whole process takes a month or two in game.  Once the lever is linked, pull.  This will instantly dam the river.  This is also the CPU intense stage:  All the other water has to drain or evaporate off map.  Water in DF is a fickle beast, calculating depth and flow for every tile, every tick.  This can crush your frame rate for a year or two.

<strong>Using Weather</strong>

As Arnok would have it, shortly after damming my river the map informed that the weather had gotten cold, and the entire river promptly froze.  So much for engineering a complicated dam.  I decided to make the most of things, and instead of waiting for the water to evaporate, I just started channeling out the center of the river.  No water, no fuss.  I just had to get the central shaft dug and walled in quickly so the spring thaw didn’t flood my base.

Digging ice is exactly like digging dirt or stone, but fast.  So in the first year I got the foundation dug and laid.  In the second year I expanded the river to a more aesthetic and defendable width.  See the images below.

[caption id="attachment_563" align="aligncenter" width="300"]<a href="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-22_22-53-31.png"><img class="size-medium wp-image-563" src="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-22_22-53-31-300x158.png" alt="Channeling the river." width="300" height="158" /></a> Channeling the river.[/caption]

The only big note about mucking around in riverbeds is the tile has a tag of [RIVER].  This prevents you from building anything on it.  In my case, the central pylon of the fortress is half on the river, half in freshly dug dirt.  In order to use the river tiles, you need to channel down a layer.  So if you attempt something like this, plan twice, dig once.  Make sure you build proper walls and such to prevent a released or thawed river from flooding your wonderful fortress.

That is how I tamed the river long enough to build my central pylon.  At some point I’ll disassemble the pump bridge and rebuild it as a weight room for my dwarves.  Next winter, I plan of channeling out more river bed in order to create a river-bed retracting bridge that can be opened to fill a cistern for water supply and possibly drowning pool needs.

<strong>Immigration</strong>

Let’s take a moment to talk about immigration.  Every season the game does a little calculation based on your fortress wealth, safety and other factors, and randomly generates a certain number of dwarves who show up on the map to join your fortress.  Your initial wave is the seven starting dwarves, and after that, unless you mod the game raws, you will get at least two waves, in the summer and autumn of your first year.  Generally speaking, you’ll end up with about 20-30 dwarves by the end of the first year, unless you have a terrifically bad starting location.

More dwarves means more workers, so that can never be bad… except when it is.  Dwarves are complicated little drunkards.  Any given Urist is a ball of needs, wants, and bad decisions waiting to happen.  You have to provide food, alcohol, shelter and clothing for your dorflings.  On top of that the game has a built in counter for both wealth and population that is the trigger for goblin invasions to start coming, along with other fun.  All this means you need to always be preparing not for what is happening in your fort, but what is going to be coming soon.

For the record, here are my immigration numbers thus far:
<ul>
	<li>Spring 5: 7</li>
	<li>Summer 5: 2</li>
	<li>Autumn 5: 5</li>
	<li>Spring 6: 18 (Big wave.)</li>
	<li>Summer 6: 8</li>
	<li>Autumn 6: 10</li>
	<li>Spring 7: 24 (Goddamit.)</li>
</ul>
<strong>Goblin Christmas Preppers</strong>

The simplest preparations are a secure fort, and farms to make the food and booze you need.  Plump helmets may not be every dorf’s cup of fermented mycelium, but they feed and booze you well enough in a pinch.  You can also get your clothing from farming if you manage pig tails into thread, then cloth, then actual clothes.  If you followed my first article, you should be pretty good on the basics.

After the basics, the dorm and small dining hall I made will not suffice.  Each dorf prefers his or her own room, bed, and likes to eat in a great big fancy hall.  This explains the massive fractal bedroom complex you saw in the last post.  Here is where it stands at about the end of year two:

[caption id="attachment_569" align="aligncenter" width="300"]<a href="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-23_22-01-54.png"><img class="size-medium wp-image-569" src="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-23_22-01-54-300x158.png" alt="You can see the underlying stone veins. Beds and doors are in place for finished rooms." width="300" height="158" /></a> You can see the underlying stone veins. Beds and doors are in place for finished rooms.[/caption]

I have taken the trouble to smooth all the walls in this floor, to make them nicer.  Once I have a few skilled engravers, I’ll set them to slowly engraving every surface in the fort that they can manage to put chisel to.  The end result will rooms and halls that make dorfs happy, and that allows all the dorfs to sleep in their own room.  Eventually I will have  furnishings in the rooms too.  The big rooms are for nobles, so they can have better rooms than every other Ursit and not get bad thoughts about that.  I haven't built the great hall, so my little hall is overflowing.  Tantrum spiral just waiting.

[caption id="attachment_568" align="aligncenter" width="300"]<a href="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-23_22-00-13.png"><img class="size-medium wp-image-568" src="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-23_22-00-13-300x158.png" alt="That is a lot of dorfs in a small space." width="300" height="158" /></a> That is a lot of dorfs in a small space.[/caption]

Since I am playing an easy embark, I have also made myself into a bit of a trade baron.  I made a shocking number of spiked balls, mechanisms, and cut gems.  I used these to trade for shocking amounts of food and booze I cannot locally create, and cloth for clothing replacements.  This gives my dwarves variety in their food and lets me replace clothes that after a year and a half of hard labor are starting to rot.

[caption id="attachment_570" align="aligncenter" width="214"]<a href="http://grimmash.com/wp-content/uploads/2015/02/Dwarf-Fortress_2015-02-23_22-05-26.png"><img class="size-full wp-image-570" src="http://grimmash.com/wp-content/uploads/2015/02/Dwarf-Fortress_2015-02-23_22-05-26.png" alt="Enough food? Nope." width="214" height="67" /></a> Enough food? Nope.[/caption]

That brings up a trade tip.  Dorfs like to drop ruined clothing in their rooms.  These items take up CPU cycle time.  You have a few options, once you get to your second or third year.  You can mark the items for dumping into a refuse pile.  This lets the clothes slowly rot away.  I prefer to make a little pit, a two room vertical setup.  On the top floor you simply have a room with an open hole in the floor.  Designate this your dumping zone.  In the room below, under the hole, you set a stockpile for clothing that only accepts from linked stockpiles, and you make sure not to have any actual links (this prevents jobs being created to move things there).  Both rooms have doors, and make sure you keep the one or the other locked.

To use the room, you can find all the XsocksX or XXtunicsXX, mark them form dumping, and dwarves will cart off the used clothing.  You may need to un-forbid the items.  You can also use a nifty dfhack command line to automatically do this for you.  I like to think of it as the manager making a job, just that Toady forgot to code this in.

[caption id="attachment_571" align="aligncenter" width="300"]<a href="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-23_22-04-10.png"><img class="size-medium wp-image-571" src="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-23_22-04-10-300x158.png" alt="That list will be pure trade gold." width="300" height="158" /></a> That list will be pure trade gold.[/caption]

To get the benefit, when a trade caravan comes, go the dump, lock the top door, open the bottom door, and unforbid all the clothes.  Then trade it off to the elves or whatever.  Once you start making your own clothing and get some skilled clothiers, your trash is worth well more than its’ weight in gold, and lets you supply other needs just by keeping your clothing industry humming along.  This system also spares your clothiers bad thoughts from otherwise disposing of rotting masterwork socks.  Alternatively, you could pit the clothing into lava or used a dwarven atom smasher (a bridge) to just destroy the stuff.

Whatever method you use, getting rid of old clothing frees up CPU cycles and makes your fort look cleaner.

<strong>Securing via Building</strong>

Ok, so we have needs taken care of via trade and bedrooms, for now.  How about the safety of the fort?  The initial simple bridge door will work, but we can do better.  I like the fantasy trope of dwarves delving into a suitable natural feature, leaving behind a massive stone work façade with horrible defenses to greet any invaders.  The true dangers lie below, but there is no reason to ignore the odd goblin or human warband.  On this map, I am going to make a bridge fortress.  Let’s investigate that a bit more.

Over my first two years, I racked up almost 70 adult Urists, all through immigration.  That is a nice labor force!  It also means I am sailing towards the siege trigger, so we need to start thinking about how my tower will keep itself safe while I build the damned thing.  Phases!

Phase one, which had the foundation complete last article, ran into a hitch.  The first phase was supposed to be just getting the outline of tower one down and bridged up, so I could start breaching the main staircase and get rid of the weird circuitous route my dorfs had been using to haul the grantie above ground.

The safety in this system lies in the fact that once the ground floor is built, I can connect to the central stairs (in the river) and lock up tight if a siege comes before I can handle it.  When you build new entrance to the fort, you need to make sure you can keep the squishy center safe, and the bridges and river would provide fairly secure barriers to all but flying or extremely good swimming invaders.

I’d laid out tower one, gotten the first and second floors pretty much built, then moved to the other side of the river to map the second tower for reference.  I ran into a problem.  It didn’t touch the slope of the hills on the west side of the river.

[caption id="attachment_557" align="aligncenter" width="300"]<a href="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-22_22-24-47.png"><img class="size-medium wp-image-557" src="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-22_22-24-47-300x158.png" alt="Welp." width="300" height="158" /></a> Welp.[/caption]

That sucks.  It ruins the pathing strategy I am going for, letting attackers bypass the wall I will eventually live in.  The river, hills and wall will eventually give me four neat quadrants, which I plan to control with an iron fist of gates, bridges, and forced pathways.  Luckily, I can just expand the foorprint!  Some quick scratchwork showed widening the east tower by about 6 tiles would do the trick, and keep symmetry.  I channeled out the eastern hill appropriately, then started deconstructing the east wall and floors of the existing tower.

<strong>There <s>Will Be</s> Was Blood</strong>

Building things, in DF, is not so difficult or dangerous, assuming you have food, booze, and no enemies trying to shoot you while building your edifice to dorfdom.  Taking things apart however, that is where the dangers lurk.  True to form, I started deconstructing various bits of the east wall, and a warning popped up notifying me of a collapse.  Upon un-pausing the game, I had one dead dwarf and a pile of stunned dwarves near him.

[caption id="attachment_561" align="aligncenter" width="300"]<a href="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-22_22-44-55.png"><img class="size-medium wp-image-561" src="http://grimmash.com/wp-content/uploads/2015/02/Greenshot_2015-02-22_22-44-55-300x158.png" alt="The dead dwarf is the red and blue one. On the corner of the wall." width="300" height="158" /></a> The dead dwarf is the red and blue one. On the corner of the wall.[/caption]

Collapses and cave-ins occur when you disconnect a section of material from any other supporting material.  The free floating section then falls until it hits a z-level with something solid.  If this is a floor with no wall underneath, the collapse may continue.  Controlled cave-ins are a wonderful thing, and can be used to clear space or bring otherwise unreachable or difficult to get to items closer.  They can also be used to kill otherwise near-impervious creatures.  But dwarves caught in cave-ins tend to end up maimed or dead.

Dwarves also have a very single-minded approach to tasks.  When they go to dismantle something, they do not bother to look if a wall is going to be left floating above them, or if Urist McDaydreamer is hanging out on the balcony that will soon be seeking a new home below.  Such was the fate of Domas Athsertirist.  My best guess is a small portion of the third wall level I had put in place to stop pathing had slipped my mind, and it came crashing down.  Be careful when removing constructions!

<strong>The Dear Departed</strong>

When dwarves die, it is important to memorialize them in some way, lest they give bad thoughts about unburied friends, or worse, come back as ghosts to haunt your still living lemmings.  So I built some coffins, and made a makeshift mausoleum in the granite caverns.  I buried the dead worker in the source of the stone that was his undoing.

[caption id="attachment_572" align="aligncenter" width="300"]<a href="http://grimmash.com/wp-content/uploads/2015/02/Year-2_2015-02-23_22-14-04.png"><img class="size-medium wp-image-572" src="http://grimmash.com/wp-content/uploads/2015/02/Year-2_2015-02-23_22-14-04-300x129.png" alt="Poor Domas." width="300" height="129" /></a> Poor Domas.[/caption]

If you find yourself with no corpse or parts of a corpse to bury (this can happen many ways), build some slabs.  Then, in the stonemason’s workshop, you can select an engraving job for the unlucky soul.  You can actually memorialize any dead named creature on the map in this way.  If you want to go super-dorfy, you can put a slab to you master swordsdwarf in a tomb with statutes and slabs with the names of those he killed with him.  Or you can make a hall of vanquished foes.

Next post, more death, more building, and I make clothing for my dwarves!
